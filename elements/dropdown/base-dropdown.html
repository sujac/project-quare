<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="base-dropdown" attributes="left" on-mouseover="{{hover}}" on-mouseout="{{resetInterval}}">
    <template>
        <link rel="stylesheet" href="base-dropdown.css">
        <div class="box"></div>
    </template>
    <script>
        Polymer('base-dropdown', {
            left: 0,
            width: 0,
            domReady: function () {
//                this.interval = setTimeout(this.hideElement.bind(this), 3000);
            },
            leftChanged: function () {
                var s = this.style;
                this.width = this.getWidth();
                var width = this.left - (this.width - 20);
                s.left = width + "px";
            },
            hideElement: function () {
                this.remove();
            },
            hover: function () {
                clearTimeout(this.interval);
            },
            resetInterval: function () {
//                this.interval = setTimeout(this.hideElement.bind(this), 1000);
            },
            getWidth: function () {
                var style = window.getComputedStyle(this).getPropertyValue('width');
                return parseInt(style.substring(0, style.length - 2));
            }
            
        });
    </script>
</polymer-element>